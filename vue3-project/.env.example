# 开发环境配置

# API基础URL
VITE_API_BASE_URL=http://localhost:3001/api

# 是否使用真实API
VITE_USE_REAL_API=true

# 应用标题
VITE_APP_TITLE=汐社图文社区

# 视频播放器配置 (Shaka Player)
# 是否自动播放视频
VITE_VIDEO_AUTOPLAY=false
# 是否显示播放控件
VITE_VIDEO_CONTROLS=true
# 是否显示播放按钮
VITE_VIDEO_SHOW_PLAY_BUTTON=true
# 是否静音播放
VITE_VIDEO_MUTED=false
# 是否循环播放
VITE_VIDEO_LOOP=false
# 默认音量 (0-1)
VITE_VIDEO_DEFAULT_VOLUME=0.8
# 是否启用自适应码率 (ABR总开关)
# true: 启用ABR自动切换，根据网络状况动态调整分辨率
# false: 禁用ABR，使用VITE_VIDEO_MAX_RESOLUTION_HEIGHT作为固定分辨率
VITE_VIDEO_ADAPTIVE_BITRATE=true

# ========== ABR (自适应码率) 高级配置 ==========
# 提示: 以下参数用于优化DASH/HLS视频播放的码率切换行为
# 建议: 短视频可降低switchInterval以更快响应，长视频可适当增加bufferingGoal

# 默认带宽估计 (bps)，用于初始播放选择码率
# 建议: 500000 (500kbps) 适合快速启动，1000000 (1Mbps) 适合高质量优先，2500000 (2.5Mbps) 适合720p优先
VITE_VIDEO_DEFAULT_BANDWIDTH=2500000

# 缓冲目标 (秒)，播放器尝试保持的前向缓冲量
# 建议: 短视频(≤30s)设为8-16秒，长视频可设为30秒
VITE_VIDEO_BUFFERING_GOAL=16

# 重新缓冲目标 (秒)，卡顿后恢复播放前的最小缓冲量
# 建议: 3-5秒，值越小恢复越快但可能再次卡顿
VITE_VIDEO_REBUFFERING_GOAL=5

# 后向缓冲 (秒)，保留已播放内容的时长，用于快退
# 建议: 与bufferingGoal保持一致或更小
VITE_VIDEO_BUFFER_BEHIND=16

# 码率切换间隔 (秒)，两次码率切换之间的最小时间
# 建议: 短视频设为1-2秒，长视频设为5-8秒避免频繁切换
VITE_VIDEO_SWITCH_INTERVAL=8

# 带宽升级阈值 (0-1)，当前带宽达到该比例时升级码率
# 建议: 0.95表示当前码率使用95%带宽时才升级，值越小越激进，避免频繁升级建议设为0.9或更高
VITE_VIDEO_BANDWIDTH_UPGRADE_TARGET=0.95

# 带宽降级阈值 (0-1)，当前带宽低于该比例时降级码率
# 建议: 0.35表示带宽不足35%时降级，值越大越敏感，避免频繁降级
VITE_VIDEO_BANDWIDTH_DOWNGRADE_TARGET=0.35

# ========== ABR 最大分辨率限制 ==========
# 限制ABR可以选择的最大分辨率高度 (像素)
# 例如: 720 表示自动模式最高只能选择720p，即使有1080p可用
# 
# **重要**: 此参数的行为取决于VITE_VIDEO_ADAPTIVE_BITRATE的设置
# 
# 当 VITE_VIDEO_ADAPTIVE_BITRATE=true (ABR启用):
#   - 此限制仅对ABR自动模式有效，用户手动选择画质时不受此限制
#   - 播放器会在此限制内动态调整分辨率
# 
# 当 VITE_VIDEO_ADAPTIVE_BITRATE=false (ABR禁用):
#   - 播放器将使用此配置作为固定分辨率，不会自动切换
#   - 例如设置为720，播放器将固定使用720p，不会根据网络状况切换
# 
# 0 或不设置表示:
#   - ABR启用时: 不限制，可以选择所有可用分辨率
#   - ABR禁用时: 使用默认的720p（如果可用）
# 
# 建议: 
#   - 移动网络或带宽受限场景设为720
#   - 桌面或高速网络设为0
#   - 需要固定分辨率时，设置此值并将VITE_VIDEO_ADAPTIVE_BITRATE设为false
VITE_VIDEO_MAX_RESOLUTION_HEIGHT=720

# ========== 调试配置 ==========
# 是否在浏览器控制台输出播放器配置信息
# true: 输出详细的播放器初始化配置，便于调试
# false: 不输出（生产环境建议）
# 注意: 生产环境建议设为false以减少控制台输出
VITE_VIDEO_DEBUG_CONFIG=true